from control.matlab import *

def model_fmu_dynamics():
    """
    系统动态特性模型:GPC控制器内置的模型
    Returns:

    """
    # 传递函数
    s = tf("s")
    # 预测时域Np
    Np = 700
    # 控制时域Nc
    Nc = 150

    # EER模型: Q=8000kW
    tf11_1 = ((-0.6688 * s ** 3 - 0.0001266 * s ** 2 - 3.806 * 10 ** (-7) * s + 9.327 * 10 ** (-12)) /
              (s ** 3 + 0.00062 * s ** 2 + 3.763 * 10 ** (-7) * s + 7.461 * 10 ** (-11)))
    tf12_1 = ((-0.001595 * s ** 3 - 2.424 * 10 ** (-6) * s ** 2 - 3.98 * 10 ** (-9) * s - 3.281 * 10 ** (-13)) /
              (s ** 3 + 0.001525 * s ** 2 + 1.667 * 10 ** (-6) * s + 4.919 * 10 ** (-10)))
    tf13_1 = (-0.000637 * s - 0.4669) / (s + 733)
    tf14_1 = (0.001362 * s + 4.396 * 10 ** (-6)) / (s + 0.001456)
    # Tei模型: Q=8000kW
    tf21_1 = ((0.2252 * s + 0.0008417) / (s + 0.0008473)) * (1 / (7800 * s + 1))
    tf22_1 = ((-0.0007288 * s - 2.644 * 10 ** (-6)) / (s + 0.001008)) * (1 / (3000 * s + 1))
    tf23_1 = 0 / 1
    tf24_1 = 0 / 1
    # 8000kW模型列表
    tf1_EER_list = [[tf11_1, tf12_1, tf13_1, tf14_1]]
    tf1_Tei_list = [[tf21_1, tf22_1, tf23_1, tf24_1]]
    tf1_list = [tf1_EER_list[0], tf1_Tei_list[0]]
    # 8000kW权值列表
    # only EER
    r1_EER_1 = 1
    r2_EER_1 = 1
    r3_EER_1 = 1
    r4_EER_1 = 1
    r1_EER_list = [r1_EER_1, r2_EER_1, r3_EER_1, r4_EER_1]
    q1_EER_1 = 1
    q1_EER_list = [q1_EER_1]
    # EER + Tei
    r1_1 = 45
    r2_1 = 0.01
    r3_1 = 40
    r4_1 = 100
    r1_list = [r1_1, r2_1, r3_1, r4_1]
    q1_1 = 650
    q2_1 = 390
    q1_list = [q1_1, q2_1]

    # EER模型: Q=9000kW
    tf11_2 = ((-0.6066 * s ** 3 - 0.0001173 * s ** 2 - 4.041 * 10 ** (-7) * s + 1.194 * 10 ** (-11)) /
              (s ** 3 + 0.000669 * s ** 2 + 4.373 * 10 ** (-7) * s + 9.385 * 10 ** (-11)))
    tf12_2 = (-0.0006104 * s - 7.326 * 10 ** (-7)) / (s + 0.0008183)
    tf13_2 = (-0.0006385 * s - 0.046) / (s + 72.05)
    tf14_2 = (0.001014 * s + 2.974 * 10 ** (-6)) / (s + 0.001419)
    # Tei模型: Q=9000kW
    tf21_2 = ((0.001091) / (s + 0.001099)) * (1 / (7200 * s + 1))
    tf22_2 = ((-2.814 * 10 ** (-6)) / (s + 0.001197)) * (1 / (2400 * s + 1))
    tf23_2 = 0 / 1
    tf24_2 = 0 / 1
    # 9000kW模型列表
    tf2_EER_list = [[tf11_2, tf12_2, tf13_2, tf14_2]]
    tf2_Tei_list = [[tf21_2, tf22_2, tf23_2, tf24_2]]
    tf2_list = [tf2_EER_list[0], tf2_Tei_list[0]]
    # 9000kW权值列表
    # only EER
    r1_EER_2 = 1
    r2_EER_2 = 1
    r3_EER_2 = 1
    r4_EER_2 = 1
    r2_EER_list = [r1_EER_2, r2_EER_2, r3_EER_2, r4_EER_2]
    q1_EER_2 = 1
    q2_EER_list = [q1_EER_2]
    # EER + Tei
    r1_2 = 45
    r2_2 = 0.01
    r3_2 = 40
    r4_2 = 100
    r2_list = [r1_2, r2_2, r3_2, r4_2]
    q1_2 = 650
    q2_2 = 390
    q2_list = [q1_2, q2_2]

    # EER模型: Q=9500kW
    tf11_3 = ((-0.565 * s ** 3 - 0.0001063 * s ** 2 - 4.333 * 10 ** (-7) * s + 1.556 * 10 ** (-11)) /
              (s ** 3 + 0.0007111 * s ** 2 + 4.96 * 10 ** (-7) * s + 1.14 * 10 ** (-10)))
    tf12_3 = ((-0.0008971 * s ** 2 - 1.153 * 10 ** (-6) * s - 4.485 * 10 ** (-10)) /
              (s ** 2 + 0.0009171 * s + 5.087 * 10 ** (-7)))
    tf13_3 = (-0.0009594 * s - 1.818 * 10 ** (-6)) / (s + 0.001983)
    tf14_3 = (0.001139 * s + 2.814 * 10 ** (-6)) / (s + 0.00135)
    # Tei模型: Q=9500kW
    tf21_3 = ((0.0009847) / (s + 0.0009907)) * (1 / (6600 * s + 1))
    tf22_3 = ((-2.909 * 10 ** (-6)) / (s + 0.001163)) * (1 / (2400 * s + 1))
    tf23_3 = 0 / 1
    tf24_3 = 0 / 1
    # 9500kW模型列表
    tf3_EER_list = [[tf11_3, tf12_3, tf13_3, tf14_3]]
    tf3_Tei_list = [[tf21_3, tf22_3, tf23_3, tf24_3]]
    tf3_list = [tf3_EER_list[0], tf3_Tei_list[0]]
    # 9500kW权值列表
    # only EER
    r1_EER_3 = 1
    r2_EER_3 = 1
    r3_EER_3 = 1
    r4_EER_3 = 1
    r3_EER_list = [r1_EER_3, r2_EER_3, r3_EER_3, r4_EER_3]
    q1_EER_3 = 1
    q3_EER_list = [q1_EER_3]
    # EER + Tei
    r1_3 = 45
    r2_3 = 0.01
    r3_3 = 40
    r4_3 = 100
    r3_list = [r1_3, r2_3, r3_3, r4_3]
    q1_3 = 650
    q2_3 = 390
    q3_list = [q1_3, q2_3]

    # EER模型: Q=10000kW
    tf11_4 = ((-0.4629 * s ** 3 - 6.435 * 10 ** (-5) * s ** 2 - 3.878 * 10 ** (-7) * s + 1.888 * 10 ** (-11)) /
              (s ** 3 + 0.0007301 * s ** 2 + 5.316 * 10 ** (-7) * s + 1.279 * 10 ** (-10)))
    tf12_4 = ((-0.001274 * s ** 3 - 2.242 * 10 ** (-6) * s ** 2 - 4.005 * 10 ** (-9) * s - 8.923 * 10 ** (-13)) /
              (s ** 3 + 0.001794 * s ** 2 + 2.404 * 10 ** (-6) * s + 1.021 * 10 ** (-9)))
    tf13_4 = (-0.0009841 * s - 8.405 * 10 ** (-7)) / (s + 0.0008471)
    tf14_4 = (0.00172 * s + 3.637 * 10 ** (-6)) / (s + 0.001293)
    # Tei模型: Q=10000kW
    tf21_4 = ((0.001116) / (s + 0.001123)) * (1 / (6600 * s + 1))
    tf22_4 = ((-3.404 * 10 ** (-6)) / (s + 0.001405)) * (1 / (2400 * s + 1))
    tf23_4 = 0 / 1
    tf24_4 = 0 / 1
    # 10000kW模型列表
    tf4_EER_list = [[tf11_4, tf12_4, tf13_4, tf14_4]]
    tf4_Tei_list = [[tf21_4, tf22_4, tf23_4, tf24_4]]
    tf4_list = [tf4_EER_list[0], tf4_Tei_list[0]]
    # 10000kW权值列表
    # only EER
    r1_EER_4 = 1
    r2_EER_4 = 1
    r3_EER_4 = 1
    r4_EER_4 = 1
    r4_EER_list = [r1_EER_4, r2_EER_4, r3_EER_4, r4_EER_4]
    q1_EER_4 = 1
    q4_EER_list = [q1_EER_4]
    # EER + Tei
    r1_4 = 45
    r2_4 = 0.01
    r3_4 = 40
    r4_4 = 100
    r4_list = [r1_4, r2_4, r3_4, r4_4]
    q1_4 = 650
    q2_4 = 390
    q4_list = [q1_4, q2_4]

    # EER模型: Q=10500kW
    tf11_5 = ((-0.3907 * s ** 3 - 2.476 * 10 ** (-5) * s ** 2 - 3.786 * 10 ** (-7) * s + 2.469 * 10 ** (-11)) /
              (s ** 3 + 0.0007622 * s ** 2 + 5.996 * 10 ** (-7) * s + 1.558 * 10 ** (-10)))
    tf12_5 = ((-0.001558 * s ** 3 - 2.609 * 10 ** (-6) * s ** 2 - 5.367 * 10 ** (-9) * s - 1.007 * 10 ** (-12)) /
              (s ** 3 + 0.001821 * s ** 2 + 2.598 * 10 ** (-6) * s + 1.152 * 10 ** (-9)))
    tf13_5 = (-0.0009305 * s - 2.034 * 10 ** (-6)) / (s + 0.002226)
    tf14_5 = (0.00119 * s + 2.785 * 10 ** (-6)) / (s + 0.001378)
    # Tei模型: Q=10500kW
    tf21_5 = ((0.3862 * s + 0.001007) / (s + 0.001013)) * (1 / (6600 * s + 1))
    tf22_5 = ((-3.591 * 10 ** (-6)) / (s + 0.001443)) * (1 / (2400 * s + 1))
    tf23_5 = 0 / 1
    tf24_5 = 0 / 1
    # 10500kW模型列表
    tf5_EER_list = [[tf11_5, tf12_5, tf13_5, tf14_5]]
    tf5_Tei_list = [[tf21_5, tf22_5, tf23_5, tf24_5]]
    tf5_list = [tf5_EER_list[0], tf5_Tei_list[0]]
    # 10500kW权值列表
    # only EER
    r1_EER_5 = 1
    r2_EER_5 = 1
    r3_EER_5 = 1
    r4_EER_5 = 1
    r5_EER_list = [r1_EER_5, r2_EER_5, r3_EER_5, r4_EER_5]
    q1_EER_5 = 1
    q5_EER_list = [q1_EER_5]
    # EER + Tei
    r1_5 = 45
    r2_5 = 0.01
    r3_5 = 40
    r4_5 = 100
    r5_list = [r1_5, r2_5, r3_5, r4_5]
    q1_5 = 650
    q2_5 = 390
    q5_list = [q1_5, q2_5]

    # EER模型: Q=11000kW
    tf11_6 = ((-0.34 * s ** 3 - 1.016 * 10 ** (-5) * s ** 2 - 3.882 * 10 ** (-7) * s + 3.137 * 10 ** (-11)) /
              (s ** 3 + 0.0008141 * s ** 2 + 6.844 * 10 ** (-7) * s + 1.926 * 10 ** (-10)))
    tf12_6 = ((-0.001977 * s ** 3 - 3.761 * 10 ** (-6) * s ** 2 - 8.027 * 10 ** (-9) * s - 1.482 * 10 ** (-12)) /
              (s ** 3 + 0.002099 * s ** 2 + 3.079 * 10 ** (-6) * s + 1.516 * 10 ** (-9)))
    tf13_6 = (-0.000934 * s - 1.58 * 10 ** (-6)) / (s + 0.001725)
    tf14_6 = (0.0009908 * s + 2.728 * 10 ** (-6)) / (s + 0.001597)
    # Tei模型: Q=11000kW
    tf21_6 = ((0.001279) / (s + 0.001287)) * (1 / (6000 * s + 1))
    tf22_6 = ((-0.0007611 * s - 3.074 * 10 ** (-6)) / (s + 0.001303)) * (1 / (24000 * s + 1))
    tf23_6 = 0 / 1
    tf24_6 = 0 / 1
    # 11000kW模型列表
    tf6_EER_list = [[tf11_6, tf12_6, tf13_6, tf14_6]]
    tf6_Tei_list = [[tf21_6, tf22_6, tf23_6, tf24_6]]
    tf6_list = [tf6_EER_list[0], tf6_Tei_list[0]]
    # 11000kW权值列表
    # only EER
    r1_EER_6 = 1
    r2_EER_6 = 1
    r3_EER_6 = 1
    r4_EER_6 = 1
    r6_EER_list = [r1_EER_6, r2_EER_6, r3_EER_6, r4_EER_6]
    q1_EER_6 = 1
    q6_EER_list = [q1_EER_6]
    # EER + Tei
    r1_6 = 100
    r2_6 = 0.01
    r3_6 = 60
    r4_6 = 0.01
    r6_list = [r1_6, r2_6, r3_6, r4_6]
    q1_6 = 1200
    q2_6 = 370
    q6_list = [q1_6, q2_6]

    # 模型列表
    Np_list = [Np, Np, Np, Np, Np, Np]
    Nc_list = [Nc, Nc, Nc, Np, Nc, Nc]
    model_EER_list = [tf1_EER_list, tf2_EER_list, tf3_EER_list, tf4_EER_list, tf5_EER_list, tf6_EER_list]
    model_Tei_list = [tf1_Tei_list, tf2_Tei_list, tf3_Tei_list, tf4_Tei_list, tf5_Tei_list, tf6_Tei_list]
    model_list = [tf1_list, tf2_list, tf3_list, tf4_list, tf5_list, tf6_list]
    r_list = [r1_list, r2_list, r3_list, r4_list, r5_list, r6_list]
    q_list = [q1_list, q2_list, q3_list, q4_list, q5_list, q6_list]
    q_EER_list = [[q1_list[0]], [q2_list[0]], [q3_list[0]], [q4_list[0]], [q5_list[0]], [q6_list[0]]]
    q_Tei_list = [[q1_list[1]], [q2_list[1]], [q3_list[1]], [q4_list[1]], [q5_list[1]], [q6_list[1]]]
    # 每个模型对应的制冷功率Q的列表
    Q_model_list = [8000, 9000, 9500, 10000, 10500, 11000]

    # 返回结果
    return (Q_model_list, model_list, model_EER_list, model_Tei_list, Np_list, Nc_list, r_list, q_list,
            q_EER_list, q_Tei_list)